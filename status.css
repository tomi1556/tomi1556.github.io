/* status.css */

:root {
    /* ... (既存のカラー変数など) ... */
    --blur-intensity-pc: 6px; /* PCのブラー強度を少し下げる */
    --blur-intensity-mobile: 0px; /* スマホではブラーをオフに */
    --card-padding: 25px; /* カードパディングを少し調整 */

    /* サイズ対策用：各セクションの高さ (PC基準) */
    --server-icon-section-height-pc: 65px;
    --server-title-section-height-pc: 52px; /* 例: 1.4 line-height * 1.6rem (approx font-size) * 2 lines */
    --status-card-header-height-pc: 42px;
    --status-card-info-min-height-pc: 60px; /* 最小高さを維持 */

    /* スマホ用高さ */
    --server-icon-section-height-mobile: 60px;
    --server-title-section-height-mobile: auto; /* スマホではタイトル高さを自動に */
    --server-title-section-min-height-mobile: 48px; /* ただし最小高さは確保 */
    --status-card-header-height-mobile: 40px;
    --status-card-info-min-height-mobile: 55px;

    /* シャドウをさらに控えめに */
    --shadow-soft: 0 2px 6px rgba(0,0,0,0.12);
    --shadow-medium: 0 5px 15px rgba(0,0,0,0.18);
    --shadow-strong: 0 8px 25px rgba(0,0,0,0.22);

    /* トランジションをシンプルに */
    --transition-fast: 0.2s ease-out;
    --transition-normal: 0.3s ease-out;
}

body {
    font-family: var(--font-primary);
    background: var(--dark-bg-main, #121828);
    color: var(--text-color);
    overflow-x: hidden;
}
.page-background-gradient {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: linear-gradient(145deg, var(--dark-bg-gradient-start, #1A2238), var(--dark-bg-gradient-end, #28324B)); /* シンプルなグラデーション */
    z-index: -1;
    /* opacity: 0.7; パフォーマンスのため、透明度は1でも良いかも */
}

.page-content-container {
    padding-top: calc(50px + 2rem); /* ★ヘッダーの高さ(仮に50px) + 余白 で調整 */
    padding-bottom: 3rem;
    position: relative;
    z-index: 1;
}

.page-header { /* ページタイトルセクションのマージン調整 */
    margin-bottom: 40px; /* 総合ステータスとの間隔 */
}


/* --- Glassmorphism Card Style (パフォーマンス改善) --- */
.overall-status-card,
.server-card-content-wrapper {
    background: rgba(var(--glass-bg-rgb, 35, 45, 60), 0.7); /* 透明度調整 */
    /* backdrop-filter: blur(var(--blur-intensity-pc)); */ /* PCでも重い場合はコメントアウト */
    /* -webkit-backdrop-filter: blur(var(--blur-intensity-pc)); */
    border: 1px solid var(--glass-border, rgba(255,255,255,0.12));
    border-radius: var(--border-radius-lg, 16px);
    box-shadow: var(--shadow-medium);
    transition: transform var(--transition-normal), box-shadow var(--transition-normal), background var(--transition-fast);
    position: relative;
}
/* カード上部ハイライトは削除または非常にシンプルに（パフォーマンスのため） */
.overall-status-card::before,
.server-card-content-wrapper::before {
    display: none; /* パフォーマンスのため一旦非表示 */
    /* content: "";
    position: absolute;
    top: 0; left: 5%; right: 5%;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(var(--glass-highlight-rgb, 255,255,255),0.3), transparent);
    opacity: 0.5; */
}

.overall-status-card:hover,
.individual-server-section:hover .server-card-content-wrapper {
    transform: translateY(-8px) scale(1.02); /* ホバー効果を少し控えめに */
    box-shadow: var(--shadow-strong); /* グロー効果は削除または大幅に軽減 */
    background: rgba(var(--glass-bg-light-rgb, 45, 55, 70), 0.8);
    /* border-color: var(--glass-highlight, rgba(255,255,255,0.25)); */ /* ホバー時のボーダー変更も負荷の可能性 */
}

.overall-status-card {
    padding: var(--card-padding);
    text-align: center;
}

.status-indicator-wrapper {
    margin-bottom: 25px; /* 微調整 */
    min-height: 45px;
    display: flex;
    justify-content: center;
    align-items: center;
}
.status-indicator {
    display: inline-flex; align-items: center; padding: 10px 25px; /* パディング調整 */
    border-radius: var(--border-radius-md); font-weight: 600; /* 太さを戻す */
    font-size: 1.15rem; /* 微調整 */
    background: transparent;
    border: 1.5px solid; /* ボーダー幅調整 */
    color: var(--text-muted);
    box-shadow: none;
    transition: color var(--transition-fast), border-color var(--transition-fast), transform var(--transition-fast), filter var(--transition-fast);
    text-transform: uppercase;
    letter-spacing: 0.8px; /* 微調整 */
}
.status-indicator:hover {
    transform: translateY(-3px) scale(1.03);
    filter: brightness(1.15); /* 少し明るく */
}

.status-indicator.online {
    border-color: var(--success-color, #3EFFD0);
    color: var(--success-color, #3EFFD0);
    text-shadow: 0 0 8px rgba(var(--success-rgb), 0.6); /* シャドウの透明度調整 */
    /* box-shadow: 0 0 12px rgba(var(--success-rgb), 0.25), inset 0 0 8px rgba(var(--success-rgb), 0.1); */ /* 負荷高ければ削除 */
}
.status-indicator.offline {
    border-color: var(--danger-color, #FF4D4D);
    color: var(--danger-color, #FF4D4D);
    text-shadow: 0 0 8px rgba(var(--danger-rgb), 0.6);
    /* box-shadow: 0 0 12px rgba(var(--danger-rgb), 0.25), inset 0 0 8px rgba(var(--danger-rgb), 0.1); */
}
.status-indicator.loading {
    border-color: var(--text-muted, #B0B0B0);
    color: var(--text-muted, #B0B0B0);
}

.status-indicator.small {
    font-size: 0.9rem; /* 微調整 */
    padding: 8px 18px; /* パディング調整 */
    letter-spacing: 0.5px;
}

/* --- パルスドット復活 --- */
.pulse-dot {
    width: 9px; /* サイズ微調整 */
    height: 9px;
    border-radius: 50%;
    margin-left: 10px; /* 間隔微調整 */
    display: inline-block; /* ★明示的に表示 */
    vertical-align: middle;
    animation: pulseColorAnimation 1.6s infinite ease-in-out;
}
.status-indicator.online .pulse-dot {
    background-color: var(--success-color);
    box-shadow: 0 0 7px 2px var(--success-color); /* 影を少し調整 */
}
.status-indicator.offline .pulse-dot {
    background-color: var(--danger-color);
    box-shadow: 0 0 7px 2px var(--danger-color);
    animation: none; opacity: 0.7; /* ちらつき防止のため opacity を少し上げる */
}
.status-indicator.loading .pulse-dot {
    background-color: var(--text-muted);
    box-shadow: 0 0 6px 1px var(--text-muted);
}
/* @keyframes pulseColorAnimation は既存のままで良い想定 */

.total-players {
    /* ... (既存スタイル微調整) ... */
    font-size: 1.25rem;
    margin-top: 20px;
    gap: 14px;
}
.total-players-icon {
    font-size: 1.7em;
    /* filter: drop-shadow(0 0 6px var(--accent-color)); パフォーマンスのため削除も検討 */
}
.player-count.animated-number {
    font-size: 1.3em;
    /* filter: drop-shadow(0 0 5px var(--secondary-color)); パフォーマンスのため削除も検討 */
}

.server-cards-wrapper {
    /* ... (既存スタイル) ... */
    gap: 30px; /* ギャップ調整 */
    margin-top: 45px;
}
.individual-server-section {
    flex: 1 1 330px; /* ベース幅調整 */
    min-width: 310px;
    display: flex;
    flex-direction: column;
}
.server-card-content-wrapper {
    padding: var(--card-padding);
    display: flex;
    flex-direction: column;
    flex-grow: 1;
}
/* 左側アクセントラインはパフォーマンス影響少ないので維持、ただしbox-shadowは削除も検討 */
.server-card-content-wrapper > .accent-line { /* HTMLに <div class="accent-line"></div> がある前提 */
    /* ... (既存スタイル) ... */
    opacity: 0.6;
    box-shadow: none; /* ホバー時の影を削除 */
}
.individual-server-section:hover .server-card-content-wrapper > .accent-line {
    width: 9px; opacity: 0.8;
    /* box-shadow: 0 0 10px currentColor; パフォーマンスのため削除 */
}


.server-icon-container {
    display: flex; justify-content: center; align-items: center;
    margin-bottom: 18px; /* 間隔調整 */
    height: var(--server-icon-section-height-pc);
    flex-shrink: 0;
}
.server-icon-placeholder {
    width: 60px; height: 60px; /* サイズ微調整 */
    /* ... (既存スタイル) ... */
}
.server-icon {
    width: 60px; height: 60px; /* サイズ微調整 */
    box-shadow: 0 0 12px rgba(0,0,0,0.35), inset 0 0 4px rgba(var(--glass-highlight-rgb,255,255,255),0.1); /* 影調整 */
    /* ... (既存スタイル) ... */
}
.individual-server-section:hover .server-icon.loaded {
    transform: scale(1.15) rotate(4deg); /* ホバー効果微調整 */
    /* box-shadow: ... 影は控えめに */
}

/* --- PCでのカード高さ揃え対策 --- */
.server-name-title {
    font-size: clamp(1.3rem, 3.2vw, 1.7rem); /* フォントサイズ調整 */
    color: var(--text-color); text-align: center; margin-bottom: 20px; font-weight: 600;
    display: flex; flex-direction: column; /* 縦並びにしてアイコンとテキストを中央揃えしやすく */
    align-items: center; justify-content: center;
    line-height: 1.35; /* 行間調整 */
    text-shadow: 0 1px 4px rgba(0,0,0,0.35);
    height: var(--server-title-section-height-pc); /* ★PCでは高さを固定 */
    overflow: hidden; /* はみ出したテキストは隠す */
    flex-shrink: 0;
}
.server-name-title > i.server-title-icon { /* アイコンとテキストの間にマージン */
    margin-bottom: 4px;
    font-size: 0.9em; /* テキストに対する相対サイズ */
}
.server-name-title > span { /* サーバー名テキスト部分 */
    display: block; /* 必要なら */
    max-width: 100%;
    /* 2行以上になる場合の省略表示 (オプション) */
    /* display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis; */
}


.status-card {
    background-color: rgba(0,0,0,0.18); /* 背景微調整 */
    border-radius: var(--border-radius-md); padding: 18px;
    border: 1px solid var(--glass-border);
    display: flex; flex-direction: column; flex-grow: 1;
}
.status-card-header {
    display: flex; justify-content: flex-start;
    align-items: center;
    margin-bottom: 12px; padding-bottom: 10px;
    border-bottom: 1px solid var(--glass-border);
    height: var(--status-card-header-height-pc);
    flex-shrink: 0;
}

.server-status-details-wrapper { /* HTMLにラッパーがある前提 */
    flex-grow: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: var(--status-card-info-min-height-pc);
    padding: 8px 0;
    width: 100%;
    flex-shrink: 0; /* 高さ固定のため */
}
/* ラッパーがない場合 */
.server-player-info,
.error-message {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    min-height: var(--status-card-info-min-height-pc); /* ★PCでの最小高さをCSS変数で管理 */
    padding: 10px 5px;
    text-align: center;
}

.server-player-info {
    font-size: 0.95rem; /* フォントサイズ微調整 */
}
.error-message {
    font-size: 0.9rem; /* フォントサイズ微調整 */
}


/* --- レスポンシブ調整 --- */
@media (max-width: 992px) { /* タブレット (992pxは一般的なブレークポイント) */
    /* PCと同じ高さ変数を流用するか、タブレット専用変数を定義 */
    .server-icon-container { height: var(--server-icon-section-height-pc); }
    .server-name-title { height: var(--server-title-section-height-pc); } /* タブレットでも固定高さを試す */
    .status-card-header { height: var(--status-card-header-height-pc); }
    .server-status-details-wrapper, .server-player-info, .error-message { min-height: var(--status-card-info-min-height-pc); }
}

@media (max-width: 768px) { /* スマホ */
    .overall-status-card,
    .server-card-content-wrapper {
        /* スマホではブラーをオフ (前回提案通り) */
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
    }
    .page-content-container {
        padding-top: calc(50px + 1.5rem); /* スマホでのタイトル位置調整 */
    }

    .server-icon-container { height: var(--server-icon-section-height-mobile); margin-bottom: 12px; }
    .server-name-title {
        height: var(--server-title-section-height-mobile); /* スマホでは自動高さ */
        min-height: var(--server-title-section-min-height-mobile); /* 最小高さは確保 */
        margin-bottom: 15px; /* 間隔調整 */
        font-size: clamp(1.15rem, 3.8vw, 1.35rem); /* フォントサイズ調整 */
    }
    .status-card-header { height: var(--status-card-header-height-mobile); margin-bottom: 10px; padding-bottom: 8px;}
    .server-status-details-wrapper, .server-player-info, .error-message {
        min-height: var(--status-card-info-min-height-mobile);
        font-size: 0.85rem; /* フォントサイズ調整 */
    }
    .status-indicator.small { font-size: 0.85rem; padding: 7px 15px; }
}

/* 480px以下の調整は前回提案を参考に、上記変数を使って微調整してください */
