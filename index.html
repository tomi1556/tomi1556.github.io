<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StellaMC - あなたの冒険が始まる場所</title>
    <link rel="stylesheet" href="stella.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <header>
        <div class="container">
            <a href="index.html" class="logo-link" aria-label="StellaMC ホームへ">
                <img src="logo.png" alt="StellaMC ロゴ" id="logo-img">
            </a>
            <nav class="main-nav" id="main-navigation">
                <ul>
                    <li><a href="index.html" class="active nav-link-item">ホーム</a></li>
                    <li><a href="rules.html" class="nav-link-item">ルール</a></li>
                    <li><a href="support.html" class="nav-link-item">支援</a></li>
                    <li><a href="http://stellamc.jp:6903/" target="_blank" rel="noopener noreferrer" class="nav-link-item">WebMap</a></li>
                    <li><a href="https://discord.gg/jurMJk7gqa" target="_blank" rel="noopener noreferrer" class="nav-link-item nav-discord-link"><i class="fab fa-discord"></i> Discord</a></li>
                </ul>
            </nav>
            <button class="hamburger-menu" aria-label="メニューを開閉する" aria-expanded="false" aria-controls="main-navigation">
                <span class="hamburger-bar"></span>
                <span class="hamburger-bar"></span>
                <span class="hamburger-bar"></span>
            </button>
        </div>
    </header>

    <main>
        <section id="hero">
            <div class="hero-background-image"></div> <div class="hero-overlay"></div>
            <div class="hero-content-wrapper container">
                <div class="hero-text-content animate-on-load" data-animation="fadeInRightCustom" data-animation-delay="0.2s">
                    <h1>StellaMC</h1>
                    <p class="subtitle">心安らぐ、あなたのもう一つの居場所。<br>最高の仲間たちと、無限の冒険へ。</p>
                    <div class="hero-buttons">
                        <a href="#join" class="btn btn-primary animate-on-load" data-animation="fadeInUpCustom" data-animation-delay="0.5s">
                            <i class="fa-solid fa-compass btn-icon-left"></i>今すぐ冒険へ
                        </a>
                        <a href="https://discord.gg/jurMJk7gqa" target="_blank" rel="noopener noreferrer" class="btn btn-secondary animate-on-load" data-animation="fadeInUpCustom" data-animation-delay="0.65s">
                            <i class="fab fa-discord btn-icon-left"></i>Discord
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <section id="features" class="container content-section">
            <h2 class="section-title animate-on-scroll" data-animation="fadeInUpCustom">StellaMCの魅力</h2>
            <div class="features-grid">
                <div class="feature-card animate-on-scroll" data-animation="zoomInCustom" data-animation-delay="0.1s">
                    <div class="feature-icon-wrapper"><i class="fas fa-cubes"></i></div>
                    <h3>多彩なコンテンツ</h3>
                    <p>独自の経済システムや豊富な追加要素、頻繁な更新で飽きさせません。</p>
                </div>
                <div class="feature-card animate-on-scroll" data-animation="zoomInCustom" data-animation-delay="0.2s">
                    <div class="feature-icon-wrapper"><i class="fas fa-users-gear"></i></div>
                    <h3>温かいコミュニティ</h3>
                    <p>プレイヤー同士が尊重しあい、初心者も安心して楽しめる温かい雰囲気です。</p>
                </div>
                <div class="feature-card animate-on-scroll" data-animation="zoomInCustom" data-animation-delay="0.3s">
                    <div class="feature-icon-wrapper"><i class="fas fa-server"></i></div>
                    <h3>24時間安定稼働</h3>
                    <p>高性能サーバーで常時安定。いつでも仲間と快適にプレイに没頭できます。</p>
                </div>
                <div class="feature-card animate-on-scroll" data-animation="zoomInCustom" data-animation-delay="0.4s">
                    <div class="feature-icon-wrapper"><i class="fas fa-shield-heart"></i></div>
                    <h3>安心の運営サポート</h3>
                    <p>経験豊富な運営が迅速・丁寧に対応し、あなたのサーバーライフを守ります。</p>
                </div>
            </div>
        </section>

        <section id="join" class="content-section alt-bg">
            <div class="container">
                <h2 class="section-title animate-on-scroll" data-animation="fadeInUpCustom">サーバーへの参加方法</h2>
                <p class="section-subtitle animate-on-scroll" data-animation="fadeInUpCustom" data-animation-delay="0.1s">簡単ステップで、すぐにStellaMCの世界へ！</p>
                <div class="join-container">
                    <div class="join-box java animate-on-scroll" data-animation="fadeInLeftCustom" data-animation-delay="0.2s">
                        <div class="join-box-icon"><i class="fab fa-java"></i></div>
                        <h3 class="join-box-title">Java版</h3>
                        <div class="join-info-item">
                            <span class="join-info-label">サーバーアドレス:</span>
                            <div class="copy-wrapper">
                                <input type="text" value="stellamc.jp" id="java-addr-input" readonly aria-label="Java版サーバーアドレス">
                                <button class="copy-action-btn" data-clipboard-target="#java-addr-input" aria-label="Java版アドレスをコピー"><i class="far fa-copy"></i></button>
                            </div>
                        </div>
                    </div>

                    <div class="join-box bedrock animate-on-scroll" data-animation="fadeInRightCustom" data-animation-delay="0.2s">
                        <div class="join-box-icon"><i class="fas fa-mobile-screen-button"></i></div>
                        <h3 class="join-box-title">統合版 (Bedrock)</h3>
                        <div class="join-info-item">
                            <span class="join-info-label">サーバーアドレス:</span>
                            <div class="copy-wrapper">
                                <input type="text" value="stellamc.jp" id="bedrock-addr-input" readonly aria-label="統合版サーバーアドレス">
                                <button class="copy-action-btn" data-clipboard-target="#bedrock-addr-input" aria-label="統合版アドレスをコピー"><i class="far fa-copy"></i></button>
                            </div>
                        </div>
                        <div class="join-info-item">
                            <span class="join-info-label">ポート:</span>
                            <div class="copy-wrapper">
                                <input type="text" value="6911" id="bedrock-port-input" readonly aria-label="統合版ポート">
                                <button class="copy-action-btn" data-clipboard-target="#bedrock-port-input" aria-label="統合版ポートをコピー"><i class="far fa-copy"></i></button>
                            </div>
                        </div>
                        <p class="join-box-note">フレンドID: <code>stellamc9211</code></p>
                    </div>
                </div>
                <div id="copy-toast" class="copy-toast" role="alert" aria-live="assertive">コピーしました！</div>
            </div>
        </section>

        <div class="preview-sections-wrapper container animate-on-scroll" data-animation="fadeInUpCustom">
            <section id="rules-preview" class="preview-card">
                <h2 class="section-title-compact">サーバールール</h2>
                <p>快適なプレイのため、ルールのご確認をお願いします。皆で守りましょう！</p>
                <div class="rules-highlights">
                    <span class="rule-highlight"><i class="fas fa-user-shield"></i> 運営指示厳守</span>
                    <span class="rule-highlight"><i class="fas fa-handshake-slash"></i> 迷惑行為禁止</span>
                    <span class="rule-highlight"><i class="fas fa-user-secret"></i> 不正行為禁止</span>
                </div>
                <a href="rules.html" class="btn btn-secondary">ルール詳細はこちら</a>
            </section>

            <section id="support-preview" class="preview-card">
                <h2 class="section-title-compact">サーバー支援について</h2>
                <p>皆様の温かいご支援が、サーバー運営と今後の発展への大きな力となります。</p>
                <a href="support.html" class="btn btn-primary">ご支援の詳細について</a>
            </section>
        </div>

        <section id="webmap-promo" class="content-section alt-bg">
            <div class="container animate-on-scroll" data-animation="fadeInUpCustom">
                <h2 class="section-title"><i class="fas fa-map-location-dot"></i> WebMapで世界を探検！</h2>
                <p class="section-subtitle">広大なサーバーの世界を、ブラウザからリアルタイムでチェック。<br>仲間たちの活動や自分の建築物を見つけよう！</p>
                <a href="http://stellamc.jp:6903/" target="_blank" rel="noopener noreferrer" class="btn btn-secondary">WebMapを開く</a>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; <span id="current-year"></span> StellaMC. All Rights Reserved.</p>
            <p class="small-text">Minecraft は Mojang Synergies AB の商標です。本サーバーは Mojang Synergies AB とは一切関係ありません。</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const hamburger = document.querySelector('.hamburger-menu');
            const nav = document.querySelector('.main-nav');
            if (hamburger && nav) {
                const navLinks = nav.querySelectorAll('a.nav-link-item'); // 通常リンクのみ対象
                hamburger.addEventListener('click', () => {
                    const isActive = hamburger.classList.toggle('active');
                    nav.classList.toggle('active');
                    hamburger.setAttribute('aria-expanded', isActive);
                    document.body.classList.toggle('no-scroll', isActive);
                });
                navLinks.forEach(link => {
                    link.addEventListener('click', () => {
                        if (nav.classList.contains('active')) {
                            hamburger.classList.remove('active');
                            nav.classList.remove('active');
                            hamburger.setAttribute('aria-expanded', 'false');
                            document.body.classList.remove('no-scroll');
                        }
                    });
                });
            }

            const header = document.querySelector('header');
            if (header) {
                 window.addEventListener('scroll', () => {
                    if (window.scrollY > 20) { // スクロール検知を敏感に
                        header.classList.add('scrolled');
                    } else {
                        header.classList.remove('scrolled');
                    }
                    const heroBg = document.querySelector('#hero .hero-background-image');
                    if (heroBg) {
                        heroBg.style.transform = `translateY(${Math.min(window.pageYOffset * 0.2, 120)}px) scale(1.1)`; // パララックス効果調整
                    }
                });
            }

            const currentYearEl = document.getElementById('current-year');
            if (currentYearEl) currentYearEl.textContent = new Date().getFullYear();

            if (typeof ClipboardJS !== 'undefined') {
                const clipboard = new ClipboardJS('.copy-action-btn');
                const toast = document.getElementById('copy-toast');
                clipboard.on('success', function(e) {
                    if (toast) {
                        toast.textContent = `${e.trigger.ariaLabel.replace('をコピー', '')} をコピー！`;
                        toast.className = 'copy-toast show success';
                        setTimeout(() => { toast.className = 'copy-toast'; }, 1800);
                    }
                    e.clearSelection();
                });
                clipboard.on('error', function(e) {
                    if (toast) {
                        toast.textContent = 'コピー失敗 :(';
                        toast.className = 'copy-toast show error';
                        setTimeout(() => { toast.className = 'copy-toast'; }, 1800);
                    }
                });
            }

            const animatedElements = document.querySelectorAll('.animate-on-scroll, .animate-on-load');
            if (animatedElements.length > 0 && typeof IntersectionObserver !== 'undefined') {
                const observer = new IntersectionObserver((entries, observerInstance) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const animationType = entry.target.dataset.animation || 'fadeInUpCustom';
                            const animationDelay = entry.target.dataset.animationDelay || '0s';
                            entry.target.style.animationDelay = animationDelay;
                            entry.target.classList.add(animationType, 'is-visible');
                            observerInstance.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.1, rootMargin: "0px 0px -15px 0px" }); // rootMargin微調整

                animatedElements.forEach(el => {
                    const rect = el.getBoundingClientRect();
                    const isInitiallyVisible = rect.top < window.innerHeight && rect.bottom >= 0;
                    const delayMultiplier = el.classList.contains('animate-on-load') ? 1000 : 0; // ロード時アニメーションは即時性を優先

                    if (el.classList.contains('animate-on-load') || isInitiallyVisible) {
                        const animationType = el.dataset.animation || 'fadeInUpCustom';
                        const animationDelay = el.dataset.animationDelay || '0s';
                        el.style.animationDelay = animationDelay;
                        setTimeout(() => el.classList.add(animationType, 'is-visible'), parseFloat(animationDelay.replace('s','')) * delayMultiplier + (el.classList.contains('animate-on-load') ? 50 : 10));
                    } else {
                        observer.observe(el);
                    }
                });
            }
        });
    </script>
</body>
</html>
